<div class = "row">
  <h2>Regional MOM6 Data Access</h2>
  <div class="alert alert-warning" role="alert">
    <!-- Forced refresh for getting the newest data server status -->
    <a class="refresh-link" onclick="location.reload(true);"><strong>Press</strong></a> to get latest data server status &#x27A0;
    <!-- Using api to refresh status badge (need to implement when the tab is not in active dev) -->
    <!-- <img alt="OPeNDAP Badge" src="https://img.shields.io/badge/OPeNDAP_server-available-blue?style=flat"> -->
    <!-- Forced refresh for getting the newest data server status -->
    <a class="refresh-link" onclick="location.reload(true);"><img src="img/opendap_status.png" alt="OPeNDAP statusBadge"></a>
  </div>
  
  <div class="col-12">
    <p>
      Currently, the regional MOM6 output can be accessed through the PSL THREDDS server.
      Users have the flexibility to choose their preferred method of data retrieval from this server.
      Additionally, an alternative option involving AWS cloud storage is under consideration and may become available in the near future.
      This option is currently undergoing testing.
      For direct access to the THREDDS server, 
      <a href="https://psl.noaa.gov/thredds/catalog/Projects/CEFI/regional_mom6/cefi_portal/catalog.html" target="_blank">
        <u> go to the <strong>catalog</strong> directly</u>
      </a>
      .
    </p>
  </div>
</div>

<div class = "row">
  <h3>Variable Lists</h3>
  <div class="userInput col-12">
    <!-- <h1 class="userInputTitle"><em>Regions</em></h1> -->
    <!-- The Radio group for different region queries -->
    <input type="radio" class="radioDataTable" id="radioNWATable" name="dataTableOptions" checked>
    <label for="radioNWATable">Northwest Atlantic</label>
    <input type="radio" class="radioDataTable" id="radioNEPTable" name="dataTableOptions">
    <label for="radioNEPTable">Northeast Pacific (Coming soon)</label>
    <br>
    <br>
    <ul class="nwaTableOpt">
      <li>
        Hindcast:
        <a href="data_index/cefi_data_indexing.Projects.CEFI.regional_mom6.cefi_portal.northwest_atlantic.full_domain.hindcast.html" target="_blank">HTML view</a>,
        <a href="data_index/cefi_data_indexing.Projects.CEFI.regional_mom6.cefi_portal.northwest_atlantic.full_domain.hindcast.json" target="_blank">JSON view</a>,
        <a href="data_index/cefi_data_indexing.Projects.CEFI.regional_mom6.cefi_portal.northwest_atlantic.full_domain.hindcast.xml" target="_blank">XML view</a>
      </li>
      <li>
        Reforecast:
        <a href="data_index/cefi_data_indexing.Projects.CEFI.regional_mom6.cefi_portal.northwest_atlantic.full_domain.seasonal_reforecast.html" target="_blank">HTML view</a>,
        <a href="data_index/cefi_data_indexing.Projects.CEFI.regional_mom6.cefi_portal.northwest_atlantic.full_domain.seasonal_reforecast.json" target="_blank">JSON view</a>,
        <a href="data_index/cefi_data_indexing.Projects.CEFI.regional_mom6.cefi_portal.northwest_atlantic.full_domain.seasonal_reforecast.xml" target="_blank">XML view</a>
      </li>
    </ul>
    <ul class="nepTableOpt hidden">
      <li>
        Hindcast: (coming soon)
      </li>
    </ul>
  </div>
  <br>
</div>  
      
<div class = "row">
  <h3>Data Query Generator</h3>
  <p>
    The data query generator is designed to swiftly generate command line code or code snippets, facilitating user access to the data.
    It is recommended to use the OPeNDAP server for querying data when only a subset is required.
    However, if there is a need to download the entire dataset, please pick the download tab for the wget command and button click download.
    The query generator also provides the data citation doi depending on different region and version of dataset.
  </p>
  

  <div class="userInput col-12">
    <h1 class="userInputTitle"><em>Data Options</em></h1>
    <!-- region and subdomain radio button should be created seperately -->
    <input type="radio" class="radioDataQuery" id="radioNWAQuery" name="dataQueryOptions" value="northwest_atlantic" checked>
    <label for="radioNWAQuery">Northwest Atlantic</label>
    <input type="radio" class="radioDataQuery" id="radioNEPQuery" name="dataQueryOptions" value="northeast_pacific">
    <label for="radioNEPQuery">Northeast Pacific (Coming soon)</label>
    <br>
    <br>

    <table class="rowGap">
        <tr>
          <td>Experiment Type : </td>
          <td>
              <select id="expTypeDataQuery"></select>
          </td>
        </tr>
        <tr>
          <td>Output Frequency : </td>
          <td>
              <select id="outFreqDataQuery"></select>
          </td>
        </tr>
        <tr>
          <td>Grid Type : </td>
          <td>
              <select id="gridTypeDataQuery"></select>
          </td>
        </tr>
        <tr>
          <td>Release : </td>
          <td>
              <select id="releaseDataQuery"></select>
          </td>
        </tr>
        <tr>
          <td>Variables : </td>
          <td>
              <select id="variableDataQuery"></select>
          </td>
        </tr>

        <tr class="forecastOpt hidden">
          <td>Initial Date : </td>
          <td>
              <select id="initialDate"></select>
          </td>
        </tr>

    </table>
    <hr class="dot-hr-plot">
    <button id="genQueryButton" class="btn btn-psl">Generate Queries</button>
  </div>
</div>
<br> 

<!-- creating the tab under bootstrap tab using navpil -->
<div class="row" id="dashNavDataAcess">
  <ul class="nav nav-pills nav-justified hidden-xs" id="pills-data">
      <li class="nav-item active" id="opendapPill">
          <a class="nav-link" href="#opendapView" data-toggle="tab" aria-expanded="true">OPeNDAP</a>
      </li>
      <li class="nav-item" id="downloadPill">
          <a class="nav-link" href="#downloadView" data-toggle="tab" aria-expanded="true">Download netCDF</a>
      </li>
      <li class="nav-item" id="citationPill">
          <a class="nav-link" href="#citationView" data-toggle="tab" aria-expanded="true">Data Citation</a>
      </li>
  </ul>
  <ul class="nav nav-tabs nav-justified visible-xs" id="tabs-data">
      <li class="nav-item active" id="opendapViewTab">
          <a class="nav-link" href="#opendapView" data-toggle="tab" aria-expanded="false">OPeNDAP</a>
      </li>
      <li class="nav-item" id="downloadViewTab">
          <a class="nav-link" href="#downloadView" data-toggle="tab" aria-expanded="false">Download netCDF</a>
      </li>
      <li class="nav-item" id="citationViewTab">
          <a class="nav-link" href="#citationView" data-toggle="tab" aria-expanded="false">Data Citation</a>
      </li>
  </ul>
</div>

<div class="row" id="dashContentDataAcess">
  <div class="tab-content">
      <!-- opendap pill -->
      <div id='opendapView' class="tab-pane active view col-12">
        <!-- URL -->
        <h4><strong>OPeNDAP URL</strong></h4>
        <p>
            Using OPeNDAP can subset the data to a smaller region or time frame.
            The OPeNDAP server has a <strong>500MB</strong> limit per request.
            A loop is suggested to load data that is larger than 500 MB.
        </p>
        <pre id="codeBlockOpendap"><code class="codeBlockScroll">Please generate query first!</code></pre> 
        <button id="copyButtonOpendap" class="btn btn-psl">Copy OPeNDAP URL</button>
        <hr class="dot-hr-plot">
        <!-- Python code -->
        <h4><strong>OPeNDAP (Python)</strong></h4>
            <p> 
                Please follow the 
                <a href="https://noaa-cefi-portal.github.io/cefi-cookbook/content/how_to_conda.html" target="_blank">
                  <strong>environment setup</strong>
                </a>
                for the following Python code to work. 
                <a href="https://noaa-cefi-portal.github.io/cefi-cookbook/content/data_access/access_opendap/python_get_cefi.html" target="_blank">
                  <strong>A comprehensive tutorial (Python) can be found here</strong>
                </a>
            </p>
        <pre id="codeBlockPython"><code class="codeBlockScroll">Please generate query first!</code></pre> 
        <button id="copyButtonPython" class="btn btn-psl">Copy Python Code</button>
        <hr class="dot-hr-plot">
        <!-- R code -->
        <h4><strong>OPeNDAP (R)</strong></h4>
            <p>
                Please follow the 
                <a href="https://noaa-cefi-portal.github.io/cefi-cookbook/content/how_to_conda.html" target="_blank">
                  <strong>environment setup</strong>
                </a>
                for the following R code to work. 
                <a href="https://noaa-cefi-portal.github.io/cefi-cookbook/content/data_access/access_opendap/r_get_cefi.html" target="_blank">
                  <strong>A comprehensive tutorial (R) can be found here</strong>
                </a>
            </p>
        <pre id="codeBlockR"><code class="codeBlockScroll">Please generate query first!</code></pre> 
        <button id="copyButtonR" class="btn btn-psl">Copy R Code</button>            
        <hr class="dot-hr-plot">
      </div>      

      <!-- netcdf download pill -->
      <div id='downloadView' class="tab-pane view col-12">
        <!-- button download -->
        <h4><strong>Direct download</strong></h4>
        <pre id="codeBlockDataInfo"><code class="codeBlockScroll">Please generate query first!</code></pre> 
        <a id="downloadHttp">
          <button id="downloadButton" class="btn btn-psl">Download netCDF</button>
        </a>
        <hr class="dot-hr-plot">
        <!-- Wget -->
        <h4><strong>Wget (Unix/Linux terminal command)</strong></h4>
        <pre id="codeBlockWget"><code class="codeBlockScroll">Please generate query first!</code></pre> 
        <button id="copyButtonWget" class="btn btn-psl">Copy Wget Code</button>
        <hr class="dot-hr-plot">
      </div>

      <!-- data citation pill -->
      <div id='citationView' class="tab-pane view col-12">
        <h4><strong>Citations</strong></h4>
        <pre id="codeBlockCite"><code class="codeBlockScroll">Please generate query first!</code></pre> 
        <button id="copyButtonCite" class="btn btn-psl">Copy Citation</button>
        <hr class="dot-hr-plot">
      </div>  
  </div>
</div>

<br>
<div class="alert alert-info" role="alert">
  &#10024; If you have any questions or feedback, please feel free to contact us via <a href="#" class="alert-link" data-toggle="modal" data-target="#Modalfeedback">google form</a>! &#10024;
</div>
